/*! 
 * rtMedia JavaScript Library 
 * @package rtMedia 
 */

jQuery(document).ready(function(e){var t=jQuery('input[name^="rtmedia-options[general_enable_upload_terms]"]'),s=jQuery('input[name^="rtmedia-options[activity_enable_upload_terms]"]'),a=jQuery('input[name^="rtmedia-options[general_upload_terms_page_link]"]'),o=jQuery('input[name^="rtmedia-options[general_upload_terms_message]"]'),m=jQuery('input[name^="rtmedia-options[general_upload_terms_error_message]"]'),i=jQuery('input[name^="rtmedia-options[general_upload_terms_show_pricacy_message]"]'),n=jQuery('textarea[name^="rtmedia-options[general_upload_terms_privacy_message]"]');function l(e,r){var t=jQuery(e);if(t.focus(),t.css("border-color","red"),0<t.parent().length&&"error_msg"!==t.parent().attr("class")){var s=jQuery("<span />").attr("style","display:block").addClass("error_msg").html(r);t.after(s)}return return_code=!1}function r(){!0===t.prop("checked")||!0===s.prop("checked")?(a.closest(".form-table").slideDown(),o.closest(".form-table").slideDown(),m.closest(".form-table").slideDown()):(a.closest(".form-table").slideUp(),o.closest(".form-table").slideUp(),m.closest(".form-table").slideUp()),!0===i.prop("checked")?n.closest(".form-table").slideDown():n.closest(".form-table").slideUp()}r(),jQuery('input[name^="rtmedia-options[general_enable_upload_terms]"], input[name^="rtmedia-options[activity_enable_upload_terms]"], input[name^="rtmedia-options[general_upload_terms_show_pricacy_message]"]').change(function(){r()}),jQuery("#bp-media-settings-boxes").on("submit","#bp_media_settings_form, .rtmedia-settings-submit",function(e){if(0<t.length&&void 0!==t||0<s.length&&"string"!==s){var r="";if(!0===t.prop("checked")||!0===s.prop("checked")){if(jQuery(".error_msg").remove(),jQuery(".rtm-form-text").css("border-color","#ddd"),!/^(http|https|ftp):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/i.test(a.val()))return r+=rtm_upload_terms_error_msgs.valid_url,l(a,r);if(""===o.val().trim())return r+=rtm_upload_terms_error_msgs.terms_msg,l(o,r);if(""===m.val().trim())return r+=rtm_upload_terms_error_msgs.error_msg,l(m,r)}}if(0<i.length&&void 0!==i){r="";if(i.prop("checked")&&(jQuery(".error_msg").remove(),""==n.val().trim()))return r+=rtm_upload_terms_error_msgs.privacy_msg,l(n,r)}})});